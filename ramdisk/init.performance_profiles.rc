# Copyright (C) 2018 Adek

# Power saving
on property:fku.perf.profile=0 && property:init.svc.qcom-post-boot=stopped
    #write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor electron
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq 1401600
    write /sys/module/cpu_input_boost/parameters/input_boost_freq 0
    write /sys/module/cpu_input_boost/parameters/input_boost_duration_ms 0
    write /sys/module/cpu_input_boost/parameters/max_boost_freq 1401600
    write /sys/kernel/msm_thermal/enabled 0
    write /sys/kernel/msm_thermal/zone0 "2150400 34 33"
    write /sys/kernel/msm_thermal/zone1 "2016000 35 34"
    write /sys/kernel/msm_thermal/zone2 "1958400 36 35"
    write /sys/kernel/msm_thermal/zone3 "1804800 37 36"
    write /sys/kernel/msm_thermal/zone4 "1689600 38 37"
    write /sys/kernel/msm_thermal/zone5 "1401600 39 38"
    write /sys/kernel/msm_thermal/zone6 "1036800 40 39"
    write /sys/kernel/msm_thermal/zone7 "652800 45 40"
    write /sys/kernel/msm_thermal/sampling_ms 3000
    write /sys/kernel/msm_thermal/enabled 1
    write /sys/module/workqueue/parameters/power_efficient Y
    write /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/max_freq 216000000
    chmod 0644 /sys/devices/system/cpu/cpuquiet/nr_min_cpus
    write /sys/devices/system/cpu/cpuquiet/nr_min_cpus 2
    chmod 0664 /sys/devices/system/cpu/cpuquiet/nr_min_cpus

# Balanced (default)
on property:fku.perf.profile=1 && property:init.svc.qcom-post-boot=stopped
    #write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor electron
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq 1804800
    write /sys/module/cpu_input_boost/parameters/input_boost_freq 1036800
    write /sys/module/cpu_input_boost/parameters/input_boost_duration_ms 64
    write /sys/module/cpu_input_boost/parameters/max_boost_freq 1689600
    write /sys/kernel/msm_thermal/enabled 0
    write /sys/kernel/msm_thermal/zone0 "2150400 34 33"
    write /sys/kernel/msm_thermal/zone1 "2016000 35 34"
    write /sys/kernel/msm_thermal/zone2 "1958400 36 35"
    write /sys/kernel/msm_thermal/zone3 "1804800 37 36"
    write /sys/kernel/msm_thermal/zone4 "1689600 38 37"
    write /sys/kernel/msm_thermal/zone5 "1401600 39 38"
    write /sys/kernel/msm_thermal/zone6 "1036800 40 39"
    write /sys/kernel/msm_thermal/zone7 "652800 45 40"
    write /sys/kernel/msm_thermal/sampling_ms 3000
    write /sys/kernel/msm_thermal/enabled 1
    write /sys/module/workqueue/parameters/power_efficient Y
    write /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/max_freq 400000000
    chmod 0644 /sys/devices/system/cpu/cpuquiet/nr_min_cpus
    write /sys/devices/system/cpu/cpuquiet/nr_min_cpus 4
    chmod 0664 /sys/devices/system/cpu/cpuquiet/nr_min_cpus

# Performance
on property:fku.perf.profile=2 && property:init.svc.qcom-post-boot=stopped
    #write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor interactive
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq 2208000
    write /sys/module/cpu_input_boost/parameters/input_boost_freq 1401600
    write /sys/module/cpu_input_boost/parameters/input_boost_duration_ms 72
    write /sys/module/cpu_input_boost/parameters/max_boost_freq 2208000
    write /sys/kernel/msm_thermal/enabled 0
    write /sys/kernel/msm_thermal/zone0 "2150400 37 36"
    write /sys/kernel/msm_thermal/zone1 "2016000 38 37"
    write /sys/kernel/msm_thermal/zone2 "1958400 39 38"
    write /sys/kernel/msm_thermal/zone3 "1804800 40 39"
    write /sys/kernel/msm_thermal/zone4 "1689600 41 40"
    write /sys/kernel/msm_thermal/zone5 "1401600 42 41"
    write /sys/kernel/msm_thermal/zone6 "1036800 43 42"
    write /sys/kernel/msm_thermal/zone7 "652800 46 43"
    write /sys/kernel/msm_thermal/sampling_ms 3000
    write /sys/kernel/msm_thermal/enabled 1
    write /sys/module/workqueue/parameters/power_efficient N
    write /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/max_freq 725000000
    chmod 0644 /sys/devices/system/cpu/cpuquiet/nr_min_cpus
    write /sys/devices/system/cpu/cpuquiet/nr_min_cpus 6
    chmod 0664 /sys/devices/system/cpu/cpuquiet/nr_min_cpus
